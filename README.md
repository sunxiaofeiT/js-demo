# 两个可以说是 JS 的 demo 小网页，瀑布流图片展示、拼图小游戏

## demo

- <a href="http://pw.newfiworld.xyz">链接瀑布流图片展示</a>
- <a href="http://pu.newfiworld.xyz">拼图小游戏</a>

## 瀑布流图片展示

### 实现的功能

- 图片的瀑布流加载，打开网页之后加载当前页面的图片，其它图片的加载根据下拉动作执行
- 向下滚动一个屏幕后，右下角浮现“返回”图标，点击图标，回到顶层
- 每个图片都可点击，点击之后图片放大显示，再次点击，回到图片列表

### 实现思路

#### 瀑布流

- 图片分为列排布
- 记录下当前图片列高度的最大值和最小值
- 用当前列的最大值与最小值，和滚动距离进行比较，如滚动距离大于最小列高度，则向最小列添加图片
- 更新添加图片的父元素，使CSS样式生效

#### 回到顶部

- 记录滚动距离，当滚动距离大于屏幕的高度时，“回到顶部” 按钮浮现
- 实现方法，利用函数animate（） 将滚动距离重新设置为0。

#### 图片点击放大

- 利用 div 的隐藏与显示实现
- 获取当前浏览器的实际长宽值，根据浏览器页面的实际长宽值对图片进行适当的缩放
- 再次点击则影藏 div ，同时清楚div中的img的url值


## puzzle游戏

### 实现的功能

- 页面的每次访问都是图片随机顺序排列
- 可以点击“重置”按钮来重新打乱
- 点击“归位”按钮来恢复图片原貌
- 具有计时功能，计时从第一次点击开始，直到拼图完成停止
- 点击“重置” 、“归位” 按钮，计时重置为0

### 实现思路

- 在页面加载完成之后，定义一个随机函数，来对图片进行随机排序，同时保证图片随机交换次数为偶数次
- “重置” 按钮，调用随机函数对图片进行重新随机，之后刷新父元素，使CSS样式生效
- “归位” 按钮，首先对每个图片进行标记，来标注图片的原本位置，“归位” 按钮根据每个图片的标记，进行归位操作
- 计时功能呢，增加计时函数，监听拼图中的 9 张图片，和两个按钮即“重置”、“归位”，同时函数内部实现对图片是否归位的判断。  
从而实现点击图片，计时开始，拼图成功，计时停止。

## TODO

优化图片加载速度